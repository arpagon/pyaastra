{"ts":1377893930259,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1377893952786,"patch":[[{"diffs":[[1,"var prmpt1 = \"New Password Invalid.\";\nvar prmpt2 = \"New password must be 10 characters or less.\";\nvar prmpt3 = \"New password must be numeric.\";\nvar prmpt4 = \"Error\";\nvar prmpt5 = \"New password and confirm password do not match.\";\nvar prmpt6 = \"Are you sure you want to restart the phone?\";\nvar prmpt7 = \"This will restore the phone to default settings and cannot be undone.\";\nvar prmpt8 = \"Continue\";\nvar prmpt9 = \"This will remove the local configuration settings and cannot be undone.\";\nvar prmpt10 = \"Error: Intercom Settings\";\nvar prmpt11 = \"Please enter a prefix code for server-side intercom.\";\nvar prmpt12 = \"Value must be between\";\nvar prmpt13 = \"DSCP value\";\nvar prmpt14 = \"is mapped to multiple priorities.\";\nvar prmpt15 = \"Invalid IP address\";\nvar prmpt16 = \"Invalid subnet mask\";\nvar prmpt17 = \"Invalid gateway address\";\nvar prmpt18 = \"Invalid primary DNS address\";\nvar prmpt19 = \"Invalid secondary DNS address\";\nvar disableNonippri = false;\nvar disableVlanid0 = false;\nvar disableSippri = false;\nvar disableRtppri = false;\nvar disableRtcppri = false;\nvar disableVlanid1 = false;\nvar disablePortlpri = false;\nvar disableHttpsExpires = false;\nvar disableHttpsHostname = false;\nvar disableIntercomPrefix = false;\nvar disableIntercomLine = false;\nvar disableNatIp = false;\nvar disableMWISub = false;\nvar disableDLprot = false;\nvar disableTFTPserver = false;\nvar disableTFTPpath = false;\nvar disableTFTPalt = false;\nvar disableTFTPaltpath = false;\nvar disableTFTPusealt = false;\nvar disableFTPserver = false;\nvar disableFTPpath = false;\nvar disableFTPusername = false;\nvar disableFTPpassword = false;\nvar disableHTTPserver = false;\nvar disableHTTPpath = false;\nvar disableHTTPport = false;\nvar disableHTTPSserver = false;\nvar disableHTTPSpath = false;\nvar disableHTTPSport = false;\nvar disableIPField = false;\nvar disableSMField = false;\nvar disableDGField = false;\nvar disableDNS1Field = false;\nvar disableDNS2Field = false;\nvar adNumberDisable = new Array();\nvar adTimeoutDisable = new Array();\nadNumberDisable[0] = false;\nadTimeoutDisable[0] = false;\nadNumberDisable[1] = false;\nadTimeoutDisable[1] = false;\nadNumberDisable[2] = false;\nadTimeoutDisable[2] = false;\nadNumberDisable[3] = false;\nadTimeoutDisable[3] = false;\nadNumberDisable[4] = false;\nadTimeoutDisable[4] = false;\nadNumberDisable[5] = false;\nadTimeoutDisable[5] = false;\nadNumberDisable[6] = false;\nadTimeoutDisable[6] = false;\nadNumberDisable[7] = false;\nadTimeoutDisable[7] = false;\nadNumberDisable[8] = false;\nadTimeoutDisable[8] = false;\nvar TimeSrvDisable = new Array();\nTimeSrvDisable[0] = false;\nTimeSrvDisable[1] = false;\nTimeSrvDisable[2] = false;\nvar PriorityAlertDisable = new Array();\nPriorityAlertDisable[0] = false;\nPriorityAlertDisable[1] = false;\nPriorityAlertDisable[2] = false;\nvar disableDNSField = true;\nvar js_is_9112 = false;\nvar js_lldp_use_vlan_info = false;\n\nfunction updateFirmwareTable(i) {\n    var f = document.getElementById('fwUpgradeForm');\n    f.port.disabled = true;\n    f.username.disabled = true;\n    f.password.disabled = true;\n    switch (i) {\n    case 1:\n        f.username.disabled = false;\n        f.password.disabled = false;\n        break;\n    case 2:\n    case 3:\n        f.port.disabled = false;\n        break\n    }\n}\n\nfunction resetServerTable(f) {\n    f.protocol.disabled = true;\n    f.tftp.disabled = true;\n    f.tftppath.disabled = true;\n    f.ftpserv.disabled = true;\n    f.ftppath.disabled = true;\n    f.ftpuser.disabled = true;\n    f.ftppass.disabled = true;\n    f.httpserv.disabled = true;\n    f.httppath.disabled = true;\n    f.httpport.disabled = true;\n    f.httpsserv.disabled = true;\n    f.httpspath.disabled = true;\n    f.httpsport.disabled = true\n}\n\nfunction updateServerTable(i) {\n    var f = document.getElementById('configForm');\n    resetServerTable(f);\n    f.protocol.disabled = disableDLprot;\n    f.alttftp.disabled = disableTFTPalt;\n    f.alttftppath.disabled = disableTFTPaltpath;\n    f.usealttftp.disabled = disableTFTPusealt;\n    switch (i) {\n    case 0:\n        f.tftp.disabled = disableTFTPserver;\n        f.tftppath.disabled = disableTFTPpath;\n        break;\n    case 1:\n        f.ftpserv.disabled = disableFTPserver;\n        f.ftppath.disabled = disableFTPpath;\n        f.ftpuser.disabled = disableFTPusername;\n        f.ftppass.disabled = disableFTPpassword;\n        break;\n    case 2:\n        f.httpserv.disabled = disableHTTPserver;\n        f.httppath.disabled = disableHTTPpath;\n        f.httpport.disabled = disableHTTPport;\n        break;\n    case 3:\n        f.httpsserv.disabled = disableHTTPSserver;\n        f.httpspath.disabled = disableHTTPSpath;\n        f.httpsport.disabled = disableHTTPSport;\n        break\n    }\n}\n\nfunction validatePassword() {\n    var f = document.getElementById('passwordForm');\n    var a = f.newPassword.value;\n    var b = f.confirmPassword.value;\n    if (a.length > 10) {\n        alert(prmpt1 + \"\\n\" + prmpt2);\n        return false\n    }\n    for (i = 0; i < a.length; i++) {\n        if (isNaN(a.charAt(i))) {\n            alert(prmpt1 + \"\\n\" + prmpt3);\n            return false\n        }\n    }\n    if (a != b) {\n        alert(prmpt4 + \"\\n\" + prmpt5);\n        return false\n    }\n    return true\n}\n\nfunction confirmReset(t) {\n    var a;\n    var f = document.getElementById('resetForm');\n    switch (t) {\n    case 0:\n        a = prmpt6;\n        break;\n    case 1:\n        a = prmpt7 + \"\\n\" + prmpt8 + \"?\";\n        break;\n    case 2:\n        a = prmpt9 + \"\\n\" + prmpt8 + \"?\"\n    }\n    if (confirm(a)) {\n        f.resetOption.value = t;\n        f.submit()\n    }\n}\n\nfunction updateBasicNetworkSettings(a) {\n    var b = document.getElementById('networkSettingsForm');\n    if (a) {\n        b.ip.disabled = true;\n        b.subnet.disabled = true;\n        b.gateway.disabled = true;\n        b.dns1.disabled = disableDNSField || disableDNS1Field;\n        b.dns2.disabled = disableDNSField || disableDNS2Field\n    } else {\n        b.ip.disabled = disableIPField;\n        b.subnet.disabled = disableSMField;\n        b.gateway.disabled = disableDGField;\n        b.dns1.disabled = disableDNS1Field;\n        b.dns2.disabled = disableDNS2Field\n    }\n}\n\nfunction updateAutodialSetting(a, b) {\n    var c = document.getElementById('sipLineSettingsForm');\n    if (a) {\n        c.adNumber.disabled = true;\n        c.adTimeout.disabled = true\n    } else {\n        c.adNumber.disabled = adNumberDisable[b];\n        c.adTimeout.disabled = adTimeoutDisable[b]\n    }\n}\n\nfunction updatePriorityAlert() {\n    var a = document.getElementById('preferencesForm');\n    if (a && a.prioAlertingEn) {\n        var b = a.prioAlertingEn.checked;\n        a.palertingkeyword1.disabled = (b != true) || PriorityAlertDisable[0];\n        a.palertingkeyword2.disabled = (b != true) || PriorityAlertDisable[1];\n        a.palertingkeyword3.disabled = (b != true) || PriorityAlertDisable[2];\n        a.palertingkeyword4.disabled = (b != true) || PriorityAlertDisable[3];\n        a.palertingkeyword5.disabled = (b != true) || PriorityAlertDisable[4];\n        a.palertingkeyword6.disabled = (b != true) || PriorityAlertDisable[5];\n        a.palertingkeyword7.disabled = (b != true) || PriorityAlertDisable[6];\n        a.palertingkeyword8.disabled = (b != true) || PriorityAlertDisable[7];\n        a.palertingkeyword9.disabled = (b != true) || PriorityAlertDisable[8];\n        a.palertingkeyword10.disabled = (b != true) || PriorityAlertDisable[9]\n    }\n}\n\nfunction updateIntercomPrefix() {\n    var a = document.getElementById('preferencesForm');\n    if (a && a.intercomType) {\n        var b = a.intercomType.selectedIndex;\n        a.intercomPrefixCode.disabled = (b != 1) || disableIntercomPrefix;\n        a.intercomLine.disabled = (b == 2) || disableIntercomLine\n    }\n}\n\nfunction checkIntercomSetting() {\n    var a = document.getElementById('preferencesForm');\n    if (a && a.intercomType && a.intercomPrefixCode) {\n        var b = a.intercomType.selectedIndex;\n        var c = a.intercomPrefixCode.value;\n        if (b == 1 && c == '') {\n            alert(prmpt10 + \"\\n\" + prmpt11);\n            return false\n        }\n    }\n    return true\n}\n\nfunction updateTimeServers(a) {\n    var b = document.getElementById('preferencesForm');\n    b.timeSrv1.disabled = !a || TimeSrvDisable[0];\n    b.timeSrv2.disabled = !a || TimeSrvDisable[1];\n    b.timeSrv3.disabled = !a || TimeSrvDisable[2]\n}\n\nfunction updateVlanSettings(a) {\n    var b = document.getElementById('networkSettingsForm');\n    b.nonippri.disabled = (!a && !js_lldp_use_vlan_info) || disableNonippri;\n    b.vlanid0.disabled = !a || js_lldp_use_vlan_info || disableVlanid0;\n    b.sippri.disabled = !a || js_lldp_use_vlan_info || disableSippri;\n    b.rtppri.disabled = !a || js_lldp_use_vlan_info || disableRtppri;\n    b.rtcppri.disabled = !a || js_lldp_use_vlan_info || disableRtcppri;\n    if (b.vlanid1) {\n        b.vlanid1.disabled = (!a && !js_lldp_use_vlan_info) || disableVlanid1;\n        b.port1pri.disabled = (!a && !js_lldp_use_vlan_info) || disablePortlpri\n    }\n}\n\nfunction updateCertSettings(a) {\n    var b = document.getElementById('networkSettingsForm');\n    b.https_validate_expires.disabled = !a || disableHttpsExpires;\n    b.https_validate_hostname.disabled = !a || disableHttpsHostname\n}\n\nfunction initializeNetworkSettings() {\n    var a = document.getElementById('networkSettingsForm');\n    updateBasicNetworkSettings(a.dhcp.checked);\n    if (a.upnp) {\n        updateNatIp(a.upnp.checked)\n    } else {\n        updateNatIp(0)\n    }\n    updateVlanSettings(a.vlanEnabled.checked);\n    updateCertSettings(a.https_validate_certificates.checked)\n}\n\nfunction initializeADSettings() {\n    var a = document.getElementById('sipLineSettingsForm');\n    updateAutodialSetting(a.adGlobal.checked)\n}\n\nfunction updateNatIp(a) {\n    var b = document.getElementById('networkSettingsForm');\n    b.natIp.disabled = a || disableNatIp\n}\n\nfunction rangeCheck(a, b, c, d) {\n    if ((c < a) || (c > b)) {\n        alert(d + \":\\n\" + prmpt12 + \" \" + a + \" - \" + b);\n        return false\n    }\n    return true\n}\n\nfunction DscpPriorityCheck() {\n    var f = document.getElementById('networkSettingsForm');\n    if ((f.sipdscp.value == f.rtpdscp.value && f.sippri.vlaue != f.rtppri.value) || f.sipdscp.value == f.rtcpdscp.value && f.sippri.value != f.rtcppri.value) {\n        alert(prmpt13 + \" \" + f.sipdscp.value + \" \" + prmpt14);\n        return false\n    } else if (f.rtpdscp.value == f.rtcpdscp.value && f.rtppri.value != f.rtcppri.value) {\n        alert(prmpt13 + \" \" + f.rtpdscp.value + \" \" + prmpt14);\n        return false\n    }\n    return true\n}\n\nfunction validateNetworkSettings() {\n    var a = /((((1|2)\\d{2})|\\d{1,2})\\.){3}(((1|2)\\d{2})|\\d{1,2})/;\n    var b = document.getElementById('networkSettingsForm');\n    if (!b.dhcp.checked) {\n        if (!a.test(b.ip.value)) {\n            alert(prmpt15);\n            return false\n        }\n        if (!a.test(b.subnet.value)) {\n            alert(prmpt16);\n            return false\n        }\n        if (!a.test(b.gateway.value)) {\n            alert(prmpt17);\n            return false\n        }\n        if (!disableDNSField && !a.test(b.dns1.value)) {\n            alert(prmpt18);\n            return false\n        }\n        if (!disableDNSField && !a.test(b.dns2.value)) {\n            alert(prmpt19);\n            return false\n        }\n    }\n    if (!rangeCheck(0, 63, b.sipdscp.value, \"SIP DSCP\")) {\n        return false\n    }\n    if (!rangeCheck(0, 63, b.rtpdscp.value, \"RTP DSCP\")) {\n        return false\n    }\n    if (!rangeCheck(0, 63, b.rtcpdscp.value, \"RTCP DSCP\")) {\n        return false\n    }\n    if (b.vlanEnabled.checked) {\n        if (!rangeCheck(1, 4094, b.vlanid0.value, \"VLANId port 0\")) {\n            return false\n        }\n        if (!DscpPriorityCheck()) {\n            return false\n        }\n        if (!(js_is_9112)) {\n            if (!rangeCheck(1, 4095, b.vlanid1.value, \"VLANId port 1\")) {\n                return false\n            }\n        }\n    }\n    b.https_validate_expires.disabled = disableHttpsExpires;\n    b.https_validate_hostname.disabled = disableHttpsHostname;\n    return true\n}\n\nfunction updateMWITimeout(a) {\n    var f = document.getElementById('globalSIPform');\n    f.explicitMWISubscriptionPeriod.disabled = !a || disableMWISub\n}"]],"start1":0,"start2":0,"length1":0,"length2":12193}]],"length":12193,"saved":false}
